var n,e,t,i,r,o,a,s,c,l,d,u,h,p,f,v,g,m,y,b,_,x,w,k,E,$,A,O,S,C,P,T,z,j,L,M,N,V,D,R,U,H,I,B,G,F;function Z(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function Y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function W(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(t),!0).forEach((function(e){K(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function K(n,e,t){return(e=mn(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X(n,e,t,i){var r=q(dn(1&i?n.prototype:n),e,t);return 2&i&&"function"==typeof r?function(n){return r.apply(t,n)}:r}function q(){return q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=function(n,e){for(;!{}.hasOwnProperty.call(n,e)&&null!==(n=dn(n)););return n}(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},q.apply(null,arguments)}function J(n){return function(n){if(Array.isArray(n))return pn(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||hn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var i,r,o,a,s=[],c=!0,l=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=o.call(t)).done)&&(s.push(i.value),s.length!==e);c=!0);}catch(n){l=!0,r=n}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw r}}return s}}(n,e)||hn(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(){nn=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(n,e,t){n[e]=t.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(n,e,t){return Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}),n[e]}try{l({},"")}catch(n){l=function(n,e,t){return n[e]=t}}function d(n,e,t,i){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),s=new P(i||[]);return r(a,"_invoke",{value:A(n,t,s)}),a}function u(n,e,t){try{return{type:"normal",arg:n.call(e,t)}}catch(n){return{type:"throw",arg:n}}}e.wrap=d;var h="suspendedStart",p="suspendedYield",f="executing",v="completed",g={};function m(){}function y(){}function b(){}var _={};l(_,a,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(T([])));w&&w!==t&&i.call(w,a)&&(_=w);var k=b.prototype=m.prototype=Object.create(_);function E(n){["next","throw","return"].forEach((function(e){l(n,e,(function(n){return this._invoke(e,n)}))}))}function $(n,e){function t(r,o,a,s){var c=u(n[r],n,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==yn(d)&&i.call(d,"__await")?e.resolve(d.__await).then((function(n){t("next",n,a,s)}),(function(n){t("throw",n,a,s)})):e.resolve(d).then((function(n){l.value=n,a(l)}),(function(n){return t("throw",n,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(n,i){function r(){return new e((function(e,r){t(n,i,e,r)}))}return o=o?o.then(r,r):r()}})}function A(e,t,i){var r=h;return function(o,a){if(r===f)throw Error("Generator is already running");if(r===v){if("throw"===o)throw a;return{value:n,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var c=O(s,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===h)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=f;var l=u(e,t,i);if("normal"===l.type){if(r=i.done?v:p,l.arg===g)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=v,i.method="throw",i.arg=l.arg)}}}function O(e,t){var i=t.method,r=e.iterator[i];if(r===n)return t.delegate=null,"throw"===i&&e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var a=o.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function S(n){var e={tryLoc:n[0]};1 in n&&(e.catchLoc=n[1]),2 in n&&(e.finallyLoc=n[2],e.afterLoc=n[3]),this.tryEntries.push(e)}function C(n){var e=n.completion||{};e.type="normal",delete e.arg,n.completion=e}function P(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(S,this),this.reset(!0)}function T(e){if(e||""===e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}throw new TypeError(yn(e)+" is not iterable")}return y.prototype=b,r(k,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:y,configurable:!0}),y.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(n){var e="function"==typeof n&&n.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,b):(n.__proto__=b,l(n,c,"GeneratorFunction")),n.prototype=Object.create(k),n},e.awrap=function(n){return{__await:n}},E($.prototype),l($.prototype,s,(function(){return this})),e.AsyncIterator=$,e.async=function(n,t,i,r,o){void 0===o&&(o=Promise);var a=new $(d(n,t,i,r),o);return e.isGeneratorFunction(t)?a:a.next().then((function(n){return n.done?n.value:a.next()}))},E(k),l(k,c,"Generator"),l(k,a,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(n){var e=Object(n),t=[];for(var i in e)t.push(i);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(i,r){return s.type="throw",s.arg=e,t.next=i,r&&(t.method="next",t.arg=n),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(n,e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=n,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(n,e){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&e&&(this.next=e),g},finish:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),C(t),g}},catch:function(n){for(var e=this.tryEntries.length-1;e>=0;--e){var t=this.tryEntries[e];if(t.tryLoc===n){var i=t.completion;if("throw"===i.type){var r=i.arg;C(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:T(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=n),g}},e}function en(n,e,t,i,r,o,a){try{var s=n[o](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(i,r)}function tn(n){return function(){var e=this,t=arguments;return new Promise((function(i,r){var o=n.apply(e,t);function a(n){en(o,i,r,a,s,"next",n)}function s(n){en(o,i,r,a,s,"throw",n)}a(void 0)}))}}function rn(n,e,t){return e=dn(e),function(n,e){if(e&&("object"==yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return on(n)}(n,cn()?Reflect.construct(e,t||[],dn(n).constructor):e.apply(n,t))}function on(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function an(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ln(n,e)}function sn(n){var e="function"==typeof Map?new Map:void 0;return sn=function(n){if(null===n||!function(n){try{return-1!==Function.toString.call(n).indexOf("[native code]")}catch(e){return"function"==typeof n}}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(n))return e.get(n);e.set(n,t)}function t(){return function(n,e,t){if(cn())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return t&&ln(r,t.prototype),r}(n,arguments,dn(this).constructor)}return t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),ln(t,n)},sn(n)}function cn(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(cn=function(){return!!n})()}function ln(n,e){return ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,e){return n.__proto__=e,n},ln(n,e)}function dn(n){return dn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dn(n)}function un(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=hn(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return a=n.done,n},e:function(n){s=!0,o=n},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw o}}}}function hn(n,e){if(n){if("string"==typeof n)return pn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pn(n,e):void 0}}function pn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function fn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function vn(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,mn(i.key),i)}}function gn(n,e,t){return e&&vn(n.prototype,e),t&&vn(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function mn(n){var e=function(n,e){if("object"!=yn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=yn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==yn(e)?e:e+""}function yn(n){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yn(n)}function bn(n,e,t,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"===("undefined"==typeof Reflect?"undefined":yn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,e,t,i);else for(var s=n.length-1;s>=0;s--)(r=n[s])&&(a=(o<3?r(a):o>3?r(e,t,a):r(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a}"function"==typeof SuppressedError&&SuppressedError;var _n=globalThis,xn=_n.ShadowRoot&&(void 0===_n.ShadyCSS||_n.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,wn=Symbol(),kn=new WeakMap,En=function(){return gn((function n(e,t,i){if(fn(this,n),this._$cssResult$=!0,i!==wn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}),[{key:"styleSheet",get:function(){var n=this.o,e=this.t;if(xn&&void 0===n){var t=void 0!==e&&1===e.length;t&&(n=kn.get(e)),void 0===n&&((this.o=n=new CSSStyleSheet).replaceSync(this.cssText),t&&kn.set(e,n))}return n}},{key:"toString",value:function(){return this.cssText}}])}(),$n=function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];var r=1===n.length?n[0]:t.reduce((function(e,t,i){return e+function(n){if(!0===n._$cssResult$)return n.cssText;if("number"==typeof n)return n;throw Error("Value passed to 'css' function must be a 'css' function result: "+n+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(t)+n[i+1]}),n[0]);return new En(r,n,wn)},An=xn?function(n){return n}:function(n){return n instanceof CSSStyleSheet?function(n){var e,t="",i=un(n.cssRules);try{for(i.s();!(e=i.n()).done;){t+=e.value.cssText}}catch(n){i.e(n)}finally{i.f()}return function(n){return new En("string"==typeof n?n:n+"",void 0,wn)}(t)}(n):n},On=Object.is,Sn=Object.defineProperty,Cn=Object.getOwnPropertyDescriptor,Pn=Object.getOwnPropertyNames,Tn=Object.getOwnPropertySymbols,zn=Object.getPrototypeOf,jn=globalThis,Ln=jn.trustedTypes,Mn=Ln?Ln.emptyScript:"",Nn=jn.reactiveElementPolyfillSupport,Vn=function(n,e){return n},Dn={toAttribute:function(n,e){switch(e){case Boolean:n=n?Mn:null;break;case Object:case Array:n=null==n?n:JSON.stringify(n)}return n},fromAttribute:function(n,e){var t=n;switch(e){case Boolean:t=null!==n;break;case Number:t=null===n?null:Number(n);break;case Object:case Array:try{t=JSON.parse(n)}catch(n){t=null}}return t}},Rn=function(n,e){return!On(n,e)},Un={attribute:!0,type:String,converter:Dn,reflect:!1,hasChanged:Rn};null!==(n=Symbol.metadata)&&void 0!==n||(Symbol.metadata=Symbol("metadata")),null!==(e=jn.litPropertyMetadata)&&void 0!==e||(jn.litPropertyMetadata=new WeakMap);var Hn=function(){function n(){var e;return fn(this,n),(e=rn(this,n))._$Ep=void 0,e.isUpdatePending=!1,e.hasUpdated=!1,e._$Em=null,e._$Ev(),e}return an(n,sn(HTMLElement)),gn(n,[{key:"_$Ev",value:function(){var n,e=this;this._$ES=new Promise((function(n){return e.enableUpdating=n})),this._$AL=new Map,this._$E_(),this.requestUpdate(),null===(n=this.constructor.l)||void 0===n||n.forEach((function(n){return n(e)}))}},{key:"addController",value:function(n){var e,t;(null!==(e=this._$EO)&&void 0!==e?e:this._$EO=new Set).add(n),void 0!==this.renderRoot&&this.isConnected&&(null===(t=n.hostConnected)||void 0===t||t.call(n))}},{key:"removeController",value:function(n){var e;null===(e=this._$EO)||void 0===e||e.delete(n)}},{key:"_$E_",value:function(){var n,e=new Map,t=un(this.constructor.elementProperties.keys());try{for(t.s();!(n=t.n()).done;){var i=n.value;this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i])}}catch(n){t.e(n)}finally{t.f()}e.size>0&&(this._$Ep=e)}},{key:"createRenderRoot",value:function(){var n,e=null!==(n=this.shadowRoot)&&void 0!==n?n:this.attachShadow(this.constructor.shadowRootOptions);return function(n,e){if(xn)n.adoptedStyleSheets=e.map((function(n){return n instanceof CSSStyleSheet?n:n.styleSheet}));else{var t,i=un(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=document.createElement("style"),a=_n.litNonce;void 0!==a&&o.setAttribute("nonce",a),o.textContent=r.cssText,n.appendChild(o)}}catch(n){i.e(n)}finally{i.f()}}}(e,this.constructor.elementStyles),e}},{key:"connectedCallback",value:function(){var n,e;null!==(n=this.renderRoot)&&void 0!==n||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(e=this._$EO)||void 0===e||e.forEach((function(n){var e;return null===(e=n.hostConnected)||void 0===e?void 0:e.call(n)}))}},{key:"enableUpdating",value:function(n){}},{key:"disconnectedCallback",value:function(){var n;null===(n=this._$EO)||void 0===n||n.forEach((function(n){var e;return null===(e=n.hostDisconnected)||void 0===e?void 0:e.call(n)}))}},{key:"attributeChangedCallback",value:function(n,e,t){this._$AK(n,t)}},{key:"_$EC",value:function(n,e){var t=this.constructor.elementProperties.get(n),i=this.constructor._$Eu(n,t);if(void 0!==i&&!0===t.reflect){var r,o=(void 0!==(null===(r=t.converter)||void 0===r?void 0:r.toAttribute)?t.converter:Dn).toAttribute(e,t.type);this._$Em=n,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}},{key:"_$AK",value:function(n,e){var t=this.constructor,i=t._$Eh.get(n);if(void 0!==i&&this._$Em!==i){var r,o=t.getPropertyOptions(i),a="function"==typeof o.converter?{fromAttribute:o.converter}:void 0!==(null===(r=o.converter)||void 0===r?void 0:r.fromAttribute)?o.converter:Dn;this._$Em=i,this[i]=a.fromAttribute(e,o.type),this._$Em=null}}},{key:"requestUpdate",value:function(n,e,t){if(void 0!==n){var i;if(null!=t||(t=this.constructor.getPropertyOptions(n)),!(null!==(i=t.hasChanged)&&void 0!==i?i:Rn)(this[n],e))return;this.P(n,e,t)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}},{key:"P",value:function(n,e,t){var i;this._$AL.has(n)||this._$AL.set(n,e),!0===t.reflect&&this._$Em!==n&&(null!==(i=this._$Ej)&&void 0!==i?i:this._$Ej=new Set).add(n)}},{key:"_$ET",value:(e=tn(nn().mark((function n(){var e;return nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isUpdatePending=!0,n.prev=1,n.next=4,this._$ES;case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),Promise.reject(n.t0);case 9:if(e=this.scheduleUpdate(),n.t1=null!=e,!n.t1){n.next=14;break}return n.next=14,e;case 14:return n.abrupt("return",!this.isUpdatePending);case 15:case"end":return n.stop()}}),n,this,[[1,6]])}))),function(){return e.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){if(this.isUpdatePending){if(!this.hasUpdated){var n;if(null!==(n=this.renderRoot)&&void 0!==n||(this.renderRoot=this.createRenderRoot()),this._$Ep){var e,t=un(this._$Ep);try{for(t.s();!(e=t.n()).done;){var i=Q(e.value,2),r=i[0],o=i[1];this[r]=o}}catch(n){t.e(n)}finally{t.f()}this._$Ep=void 0}var a=this.constructor.elementProperties;if(a.size>0){var s,c=un(a);try{for(c.s();!(s=c.n()).done;){var l=Q(s.value,2),d=l[0],u=l[1];!0!==u.wrapped||this._$AL.has(d)||void 0===this[d]||this.P(d,this[d],u)}}catch(n){c.e(n)}finally{c.f()}}}var h=!1,p=this._$AL;try{var f;(h=this.shouldUpdate(p))?(this.willUpdate(p),null!==(f=this._$EO)&&void 0!==f&&f.forEach((function(n){var e;return null===(e=n.hostUpdate)||void 0===e?void 0:e.call(n)})),this.update(p)):this._$EU()}catch(p){throw h=!1,this._$EU(),p}h&&this._$AE(p)}}},{key:"willUpdate",value:function(n){}},{key:"_$AE",value:function(n){var e;null!==(e=this._$EO)&&void 0!==e&&e.forEach((function(n){var e;return null===(e=n.hostUpdated)||void 0===e?void 0:e.call(n)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(n)),this.updated(n)}},{key:"_$EU",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$ES}},{key:"shouldUpdate",value:function(n){return!0}},{key:"update",value:function(n){var e=this;this._$Ej&&(this._$Ej=this._$Ej.forEach((function(n){return e._$EC(n,e[n])}))),this._$EU()}},{key:"updated",value:function(n){}},{key:"firstUpdated",value:function(n){}}],[{key:"addInitializer",value:function(n){var e;this._$Ei(),(null!==(e=this.l)&&void 0!==e?e:this.l=[]).push(n)}},{key:"observedAttributes",get:function(){return this.finalize(),this._$Eh&&J(this._$Eh.keys())}},{key:"createProperty",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Un;if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(n,e),!e.noAccessor){var t=Symbol(),i=this.getPropertyDescriptor(n,t,e);void 0!==i&&Sn(this.prototype,n,i)}}},{key:"getPropertyDescriptor",value:function(n,e,t){var i,r=null!==(i=Cn(this.prototype,n))&&void 0!==i?i:{get:function(){return this[e]},set:function(n){this[e]=n}},o=r.get,a=r.set;return{get:function(){return null==o?void 0:o.call(this)},set:function(e){var i=null==o?void 0:o.call(this);a.call(this,e),this.requestUpdate(n,i,t)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(n){var e;return null!==(e=this.elementProperties.get(n))&&void 0!==e?e:Un}},{key:"_$Ei",value:function(){if(!this.hasOwnProperty(Vn("elementProperties"))){var n=zn(this);n.finalize(),void 0!==n.l&&(this.l=J(n.l)),this.elementProperties=new Map(n.elementProperties)}}},{key:"finalize",value:function(){if(!this.hasOwnProperty(Vn("finalized"))){if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Vn("properties"))){var n,e=this.properties,t=un([].concat(J(Pn(e)),J(Tn(e))));try{for(t.s();!(n=t.n()).done;){var i=n.value;this.createProperty(i,e[i])}}catch(n){t.e(n)}finally{t.f()}}var r=this[Symbol.metadata];if(null!==r){var o=litPropertyMetadata.get(r);if(void 0!==o){var a,s=un(o);try{for(s.s();!(a=s.n()).done;){var c=Q(a.value,2),l=c[0],d=c[1];this.elementProperties.set(l,d)}}catch(n){s.e(n)}finally{s.f()}}}this._$Eh=new Map;var u,h=un(this.elementProperties);try{for(h.s();!(u=h.n()).done;){var p=Q(u.value,2),f=p[0],v=p[1],g=this._$Eu(f,v);void 0!==g&&this._$Eh.set(g,f)}}catch(n){h.e(n)}finally{h.f()}this.elementStyles=this.finalizeStyles(this.styles)}}},{key:"finalizeStyles",value:function(n){var e=[];if(Array.isArray(n)){var t,i=un(new Set(n.flat(1/0).reverse()));try{for(i.s();!(t=i.n()).done;){var r=t.value;e.unshift(An(r))}}catch(n){i.e(n)}finally{i.f()}}else void 0!==n&&e.push(An(n));return e}},{key:"_$Eu",value:function(n,e){var t=e.attribute;return!1===t?void 0:"string"==typeof t?t:"string"==typeof n?n.toLowerCase():void 0}}]);var e}();Hn.elementStyles=[],Hn.shadowRootOptions={mode:"open"},Hn[Vn("elementProperties")]=new Map,Hn[Vn("finalized")]=new Map,null!=Nn&&Nn({ReactiveElement:Hn}),(null!==(t=jn.reactiveElementVersions)&&void 0!==t?t:jn.reactiveElementVersions=[]).push("2.0.4");var In=globalThis,Bn=In.trustedTypes,Gn=Bn?Bn.createPolicy("lit-html",{createHTML:function(n){return n}}):void 0,Fn="$lit$",Zn="lit$".concat(Math.random().toFixed(9).slice(2),"$"),Yn="?"+Zn,Wn="<".concat(Yn,">"),Kn=document,Xn=function(){return Kn.createComment("")},qn=function(n){return null===n||"object"!=yn(n)&&"function"!=typeof n},Jn=Array.isArray,Qn="[ \t\n\f\r]",ne=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ee=/-->/g,te=/>/g,ie=RegExp(">|".concat(Qn,"(?:([^\\s\"'>=/]+)(").concat(Qn,"*=").concat(Qn,"*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)"),"g"),re=/'/g,oe=/"/g,ae=/^(?:script|style|textarea|title)$/i,se=function(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return{_$litType$:n,strings:e,values:i}}}(1),ce=Symbol.for("lit-noChange"),le=Symbol.for("lit-nothing"),de=new WeakMap,ue=Kn.createTreeWalker(Kn,129);function he(n,e){if(!Jn(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==Gn?Gn.createHTML(e):e}var pe=function(n,e){for(var t,i=n.length-1,r=[],o=2===e?"<svg>":3===e?"<math>":"",a=ne,s=0;s<i;s++){for(var c=n[s],l=void 0,d=void 0,u=-1,h=0;h<c.length&&(a.lastIndex=h,null!==(d=a.exec(c)));)h=a.lastIndex,a===ne?"!--"===d[1]?a=ee:void 0!==d[1]?a=te:void 0!==d[2]?(ae.test(d[2])&&(t=RegExp("</"+d[2],"g")),a=ie):void 0!==d[3]&&(a=ie):a===ie?">"===d[0]?(a=null!=t?t:ne,u=-1):void 0===d[1]?u=-2:(u=a.lastIndex-d[2].length,l=d[1],a=void 0===d[3]?ie:'"'===d[3]?oe:re):a===oe||a===re?a=ie:a===ee||a===te?a=ne:(a=ie,t=void 0);var p=a===ie&&n[s+1].startsWith("/>")?" ":"";o+=a===ne?c+Wn:u>=0?(r.push(l),c.slice(0,u)+Fn+c.slice(u)+Zn+p):c+Zn+(-2===u?s:p)}return[he(n,o+(n[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]},fe=function(){return gn((function n(e,t){var i,r=e.strings,o=e._$litType$;fn(this,n),this.parts=[];var a=0,s=0,c=r.length-1,l=this.parts,d=Q(pe(r,o),2),u=d[0],h=d[1];if(this.el=n.createElement(u,t),ue.currentNode=this.el.content,2===o||3===o){var p=this.el.content.firstChild;p.replaceWith.apply(p,J(p.childNodes))}for(;null!==(i=ue.nextNode())&&l.length<c;){if(1===i.nodeType){if(i.hasAttributes()){var f,v=un(i.getAttributeNames());try{for(v.s();!(f=v.n()).done;){var g=f.value;if(g.endsWith(Fn)){var m=h[s++],y=i.getAttribute(g).split(Zn),b=/([.?@])?(.*)/.exec(m);l.push({type:1,index:a,name:b[2],strings:y,ctor:"."===b[1]?be:"?"===b[1]?_e:"@"===b[1]?xe:ye}),i.removeAttribute(g)}else g.startsWith(Zn)&&(l.push({type:6,index:a}),i.removeAttribute(g))}}catch(n){v.e(n)}finally{v.f()}}if(ae.test(i.tagName)){var _=i.textContent.split(Zn),x=_.length-1;if(x>0){i.textContent=Bn?Bn.emptyScript:"";for(var w=0;w<x;w++)i.append(_[w],Xn()),ue.nextNode(),l.push({type:2,index:++a});i.append(_[x],Xn())}}}else if(8===i.nodeType)if(i.data===Yn)l.push({type:2,index:a});else for(var k=-1;-1!==(k=i.data.indexOf(Zn,k+1));)l.push({type:7,index:a}),k+=Zn.length-1;a++}}),null,[{key:"createElement",value:function(n,e){var t=Kn.createElement("template");return t.innerHTML=n,t}}])}();function ve(n,e){var t,i,r,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,c=arguments.length>3?arguments[3]:void 0;if(e===ce)return e;var l=void 0!==c?null===(t=s._$Co)||void 0===t?void 0:t[c]:s._$Cl,d=qn(e)?void 0:e._$litDirective$;return(null===(i=l)||void 0===i?void 0:i.constructor)!==d&&(null!==(r=l)&&void 0!==r&&null!==(o=r._$AO)&&void 0!==o&&o.call(r,!1),void 0===d?l=void 0:(l=new d(n))._$AT(n,s,c),void 0!==c?(null!==(a=s._$Co)&&void 0!==a?a:s._$Co=[])[c]=l:s._$Cl=l),void 0!==l&&(e=ve(n,l._$AS(n,e.values),l,c)),e}var ge=function(){return gn((function n(e,t){fn(this,n),this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}),[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(n){var e,t=this._$AD,i=t.el.content,r=t.parts,o=(null!==(e=null==n?void 0:n.creationScope)&&void 0!==e?e:Kn).importNode(i,!0);ue.currentNode=o;for(var a=ue.nextNode(),s=0,c=0,l=r[0];void 0!==l;){var d;if(s===l.index){var u=void 0;2===l.type?u=new me(a,a.nextSibling,this,n):1===l.type?u=new l.ctor(a,l.name,l.strings,this,n):6===l.type&&(u=new we(a,this,n)),this._$AV.push(u),l=r[++c]}s!==(null===(d=l)||void 0===d?void 0:d.index)&&(a=ue.nextNode(),s++)}return ue.currentNode=Kn,o}},{key:"p",value:function(n){var e,t=0,i=un(this._$AV);try{for(i.s();!(e=i.n()).done;){var r=e.value;void 0!==r&&(void 0!==r.strings?(r._$AI(n,r,t),t+=r.strings.length-2):r._$AI(n[t])),t++}}catch(n){i.e(n)}finally{i.f()}}}])}(),me=function(){function n(e,t,i,r){var o;fn(this,n),this.type=2,this._$AH=le,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=r,this._$Cv=null===(o=null==r?void 0:r.isConnected)||void 0===o||o}return gn(n,[{key:"_$AU",get:function(){var n,e;return null!==(n=null===(e=this._$AM)||void 0===e?void 0:e._$AU)&&void 0!==n?n:this._$Cv}},{key:"parentNode",get:function(){var n,e=this._$AA.parentNode,t=this._$AM;return void 0!==t&&11===(null===(n=e)||void 0===n?void 0:n.nodeType)&&(e=t.parentNode),e}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(n){n=ve(this,n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),qn(n)?n===le||null==n||""===n?(this._$AH!==le&&this._$AR(),this._$AH=le):n!==this._$AH&&n!==ce&&this._(n):void 0!==n._$litType$?this.$(n):void 0!==n.nodeType?this.T(n):function(n){return Jn(n)||"function"==typeof(null==n?void 0:n[Symbol.iterator])}(n)?this.k(n):this._(n)}},{key:"O",value:function(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}},{key:"T",value:function(n){this._$AH!==n&&(this._$AR(),this._$AH=this.O(n))}},{key:"_",value:function(n){this._$AH!==le&&qn(this._$AH)?this._$AA.nextSibling.data=n:this.T(Kn.createTextNode(n)),this._$AH=n}},{key:"$",value:function(n){var e,t=n.values,i=n._$litType$,r="number"==typeof i?this._$AC(n):(void 0===i.el&&(i.el=fe.createElement(he(i.h,i.h[0]),this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.p(t);else{var o=new ge(r,this),a=o.u(this.options);o.p(t),this.T(a),this._$AH=o}}},{key:"_$AC",value:function(n){var e=de.get(n.strings);return void 0===e&&de.set(n.strings,e=new fe(n)),e}},{key:"k",value:function(e){Jn(this._$AH)||(this._$AH=[],this._$AR());var t,i,r=this._$AH,o=0,a=un(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;o===r.length?r.push(t=new n(this.O(Xn()),this.O(Xn()),this,this.options)):t=r[o],t._$AI(s),o++}}catch(n){a.e(n)}finally{a.f()}o<r.length&&(this._$AR(t&&t._$AB.nextSibling,o),r.length=o)}},{key:"_$AR",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,e=arguments.length>1?arguments[1]:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,e);n&&n!==this._$AB;){var t,i=n.nextSibling;n.remove(),n=i}}},{key:"setConnected",value:function(n){var e;void 0===this._$AM&&(this._$Cv=n,null===(e=this._$AP)||void 0===e||e.call(this,n))}}])}(),ye=function(){return gn((function n(e,t,i,r,o){fn(this,n),this.type=1,this._$AH=le,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=le}),[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=this.strings,o=!1;if(void 0===r)n=ve(this,n,e,0),(o=!qn(n)||n!==this._$AH&&n!==ce)&&(this._$AH=n);else{var a,s,c=n;for(n=r[0],a=0;a<r.length-1;a++)(s=ve(this,c[t+a],e,a))===ce&&(s=this._$AH[a]),o||(o=!qn(s)||s!==this._$AH[a]),s===le?n=le:n!==le&&(n+=(null!=s?s:"")+r[a+1]),this._$AH[a]=s}o&&!i&&this.j(n)}},{key:"j",value:function(n){n===le?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=n?n:"")}}])}(),be=function(){function n(){var e;return fn(this,n),(e=rn(this,n,arguments)).type=3,e}return an(n,ye),gn(n,[{key:"j",value:function(n){this.element[this.name]=n===le?void 0:n}}])}(),_e=function(){function n(){var e;return fn(this,n),(e=rn(this,n,arguments)).type=4,e}return an(n,ye),gn(n,[{key:"j",value:function(n){this.element.toggleAttribute(this.name,!!n&&n!==le)}}])}(),xe=function(){function n(e,t,i,r,o){var a;return fn(this,n),(a=rn(this,n,[e,t,i,r,o])).type=5,a}return an(n,ye),gn(n,[{key:"_$AI",value:function(n){var e;if((n=null!==(e=ve(this,n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==e?e:le)!==ce){var t=this._$AH,i=n===le&&t!==le||n.capture!==t.capture||n.once!==t.once||n.passive!==t.passive,r=n!==le&&(t===le||i);i&&this.element.removeEventListener(this.name,this,t),r&&this.element.addEventListener(this.name,this,n),this._$AH=n}}},{key:"handleEvent",value:function(n){var e,t;"function"==typeof this._$AH?this._$AH.call(null!==(e=null===(t=this.options)||void 0===t?void 0:t.host)&&void 0!==e?e:this.element,n):this._$AH.handleEvent(n)}}])}(),we=function(){return gn((function n(e,t,i){fn(this,n),this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}),[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(n){ve(this,n)}}])}(),ke=In.litHtmlPolyfillSupport;null!=ke&&ke(fe,me),(null!==(i=In.litHtmlVersions)&&void 0!==i?i:In.litHtmlVersions=[]).push("3.2.1");var Ee=function(){function n(){var e;return fn(this,n),(e=rn(this,n,arguments)).renderOptions={host:on(e)},e._$Do=void 0,e}return an(n,Hn),gn(n,[{key:"createRenderRoot",value:function(){var e,t,i=X(n,"createRenderRoot",this,3)([]);return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}},{key:"update",value:function(e){var t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),X(n,"update",this,3)([e]),this._$Do=function(n,e,t){var i,r=null!==(i=null==t?void 0:t.renderBefore)&&void 0!==i?i:e,o=r._$litPart$;if(void 0===o){var a,s=null!==(a=null==t?void 0:t.renderBefore)&&void 0!==a?a:null;r._$litPart$=o=new me(e.insertBefore(Xn(),s),s,void 0,null!=t?t:{})}return o._$AI(n),o}(t,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var e;X(n,"connectedCallback",this,3)([]),null===(e=this._$Do)||void 0===e||e.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var e;X(n,"disconnectedCallback",this,3)([]),null===(e=this._$Do)||void 0===e||e.setConnected(!1)}},{key:"render",value:function(){return ce}}])}();Ee._$litElement$=!0,Ee.finalized=!0,null===(r=globalThis.litElementHydrateSupport)||void 0===r||r.call(globalThis,{LitElement:Ee});var $e=globalThis.litElementPolyfillSupport;null==$e||$e({LitElement:Ee}),(null!==(o=globalThis.litElementVersions)&&void 0!==o?o:globalThis.litElementVersions=[]).push("4.1.1");var Ae={attribute:!0,type:String,converter:Dn,reflect:!1,hasChanged:Rn},Oe=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=t.kind,r=t.metadata,o=globalThis.litPropertyMetadata.get(r);if(void 0===o&&globalThis.litPropertyMetadata.set(r,o=new Map),o.set(t.name,n),"accessor"===i){var a=t.name;return{set:function(t){var i=e.get.call(this);e.set.call(this,t),this.requestUpdate(a,i,n)},init:function(e){return void 0!==e&&this.P(a,void 0,n),e}}}if("setter"===i){var s=t.name;return function(t){var i=this[s];e.call(this,t),this.requestUpdate(s,i,n)}}throw Error("Unsupported decorator location: "+i)};function Se(n){return function(e,t){return"object"==yn(t)?Oe(n,e,t):function(n,e,t){var i=e.hasOwnProperty(t);return e.constructor.createProperty(t,i?W(W({},n),{},{wrapped:!0}):n),i?Object.getOwnPropertyDescriptor(e,t):void 0}(n,e,t)}}function Ce(n){return Se(W(W({},n),{},{state:!0,attribute:!1}))}var Pe={temperature:{device_class:"temperature",icon:"mdi:thermometer",unit:"°C",precision:1,show_graph:!0,graph_hours:24,ranges:[{max:10,color:"#3498db",icon:"mdi:snowflake",label:"Studené"},{min:10,max:18,color:"#5dade2",icon:"mdi:thermometer-low",label:"Chladné"},{min:18,max:24,color:"#52c41a",icon:"mdi:thermometer",label:"Príjemné"},{min:24,max:28,color:"#faad14",icon:"mdi:thermometer-high",label:"Teplé"},{min:28,color:"#f5222d",icon:"mdi:fire",label:"Horúce",warning:!0}]},humidity:{device_class:"humidity",icon:"mdi:water-percent",unit:"%",precision:0,show_graph:!0,graph_hours:24,ranges:[{max:30,color:"#faad14",icon:"mdi:water-minus",label:"Suché",warning:!0},{min:30,max:40,color:"#52c41a",icon:"mdi:water-percent",label:"Nízka"},{min:40,max:60,color:"#1890ff",icon:"mdi:water-percent",label:"Optimálna"},{min:60,max:70,color:"#13c2c2",icon:"mdi:water-percent",label:"Vysoká"},{min:70,color:"#f5222d",icon:"mdi:water-plus",label:"Vlhké",warning:!0}]},battery:{device_class:"battery",icon:"mdi:battery",unit:"%",precision:0,ranges:[{max:10,color:"#f5222d",icon:"mdi:battery-10",label:"Kritické",warning:!0},{min:10,max:20,color:"#fa8c16",icon:"mdi:battery-20",label:"Nízke",warning:!0},{min:20,max:50,color:"#faad14",icon:"mdi:battery-50",label:"Stredné"},{min:50,max:80,color:"#52c41a",icon:"mdi:battery-70",label:"Dobré"},{min:80,color:"#1890ff",icon:"mdi:battery",label:"Plné"}]},pressure:{device_class:"pressure",icon:"mdi:gauge",unit:"hPa",precision:0,show_graph:!0,graph_hours:48,ranges:[{max:980,color:"#f5222d",icon:"mdi:weather-pouring",label:"Nízky"},{min:980,max:1e3,color:"#faad14",icon:"mdi:weather-cloudy",label:"Premenlivý"},{min:1e3,max:1020,color:"#52c41a",icon:"mdi:weather-partly-cloudy",label:"Normálny"},{min:1020,color:"#1890ff",icon:"mdi:weather-sunny",label:"Vysoký"}]},illuminance:{device_class:"illuminance",icon:"mdi:brightness-5",unit:"lx",precision:0,ranges:[{max:1,color:"#1a1a1a",icon:"mdi:brightness-1",label:"Tma"},{min:1,max:50,color:"#595959",icon:"mdi:brightness-2",label:"Šero"},{min:50,max:200,color:"#8c8c8c",icon:"mdi:brightness-4",label:"Stmievané"},{min:200,max:500,color:"#bfbfbf",icon:"mdi:brightness-5",label:"Svetlé"},{min:500,color:"#fafafa",icon:"mdi:brightness-7",label:"Veľmi svetlé"}]},power:{device_class:"power",icon:"mdi:flash",unit:"W",precision:1,show_graph:!0,graph_hours:24,ranges:[{max:10,color:"#52c41a",icon:"mdi:flash-off",label:"Nízky"},{min:10,max:100,color:"#1890ff",icon:"mdi:flash-outline",label:"Stredný"},{min:100,max:500,color:"#faad14",icon:"mdi:flash",label:"Vysoký"},{min:500,color:"#f5222d",icon:"mdi:flash-alert",label:"Veľmi vysoký",warning:!0}]},energy:{device_class:"energy",icon:"mdi:lightning-bolt",unit:"kWh",precision:2,show_graph:!0,graph_hours:168,ranges:[{max:1,color:"#52c41a",icon:"mdi:leaf",label:"Nízka"},{min:1,max:5,color:"#1890ff",icon:"mdi:lightning-bolt-outline",label:"Stredná"},{min:5,max:10,color:"#faad14",icon:"mdi:lightning-bolt",label:"Vysoká"},{min:10,color:"#f5222d",icon:"mdi:alert",label:"Veľmi vysoká"}]},carbon_dioxide:{device_class:"carbon_dioxide",icon:"mdi:molecule-co2",unit:"ppm",precision:0,show_graph:!0,graph_hours:24,ranges:[{max:600,color:"#52c41a",icon:"mdi:check-circle",label:"Výborné"},{min:600,max:800,color:"#1890ff",icon:"mdi:information",label:"Dobré"},{min:800,max:1e3,color:"#faad14",icon:"mdi:alert-circle",label:"Stredné"},{min:1e3,max:1500,color:"#fa8c16",icon:"mdi:alert",label:"Horšie",warning:!0},{min:1500,color:"#f5222d",icon:"mdi:alert-octagon",label:"Zlé",warning:!0}]},volatile_organic_compounds:{device_class:"volatile_organic_compounds",icon:"mdi:air-filter",unit:"µg/m³",precision:0,ranges:[{max:50,color:"#52c41a",label:"Výborné"},{min:50,max:100,color:"#1890ff",label:"Dobré"},{min:100,max:300,color:"#faad14",label:"Stredné"},{min:300,max:500,color:"#fa8c16",label:"Horšie",warning:!0},{min:500,color:"#f5222d",label:"Zlé",warning:!0}]},pm25:{device_class:"pm25",icon:"mdi:dots-hexagon",unit:"µg/m³",precision:0,ranges:[{max:12,color:"#52c41a",label:"Dobré"},{min:12,max:35,color:"#faad14",label:"Stredné"},{min:35,max:55,color:"#fa8c16",label:"Nezdravé citlivé",warning:!0},{min:55,color:"#f5222d",label:"Nezdravé",warning:!0}]},signal_strength:{device_class:"signal_strength",icon:"mdi:wifi",unit:"dBm",precision:0,ranges:[{max:-90,color:"#f5222d",icon:"mdi:wifi-strength-1",label:"Slabý"},{min:-90,max:-70,color:"#faad14",icon:"mdi:wifi-strength-2",label:"Priemerný"},{min:-70,max:-50,color:"#52c41a",icon:"mdi:wifi-strength-3",label:"Dobrý"},{min:-50,color:"#1890ff",icon:"mdi:wifi-strength-4",label:"Výborný"}]}},Te=$n(a||(a=Z(["\n  /* ===== BASE & MODERN RESET ===== */\n  :host {\n    display: block;\n    --glass-blur: 20px;\n    --glass-opacity: 0.7;\n    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);\n    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);\n    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);\n    --shadow-glow: 0 0 20px rgba(var(--primary-color-rgb, 68, 115, 158), 0.3);\n    --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-base: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n    --border-radius-sm: 8px;\n    --border-radius-md: 12px;\n    --border-radius-lg: 16px;\n    --border-radius-xl: 20px;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  /* ===== CARD BASE ===== */\n  ha-card {\n    padding: 20px;\n    background: var(--card-background-color);\n    border-radius: var(--border-radius-lg);\n    box-shadow: var(--shadow-md);\n    overflow: hidden;\n    position: relative;\n    transition: all var(--transition-base);\n  }\n\n  ha-card::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(\n      90deg,\n      var(--primary-color, #44739e),\n      var(--accent-color, #ff9800)\n    );\n    opacity: 0;\n    transition: opacity var(--transition-base);\n  }\n\n  ha-card:hover::before {\n    opacity: 1;\n  }\n\n  ha-card:hover {\n    box-shadow: var(--shadow-lg);\n    transform: translateY(-2px);\n  }\n\n  .card-header {\n    font-size: 28px;\n    font-weight: 700;\n    padding-bottom: 20px;\n    color: var(--primary-text-color);\n    letter-spacing: -0.5px;\n    background: linear-gradient(\n      135deg,\n      var(--primary-text-color),\n      var(--primary-color, #44739e)\n    );\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n\n  .card-content {\n    padding: 0;\n  }\n\n  .group-header {\n    font-size: 13px;\n    font-weight: 700;\n    color: var(--primary-color, #44739e);\n    text-transform: uppercase;\n    letter-spacing: 1.2px;\n    margin: 20px 0 12px 0;\n    padding: 8px 12px;\n    background: linear-gradient(\n      135deg,\n      var(--primary-color, #44739e)15,\n      transparent\n    );\n    border-left: 3px solid var(--primary-color, #44739e);\n    border-radius: var(--border-radius-sm);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .group-header::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(90deg, var(--primary-color, #44739e)10, transparent);\n    animation: shimmer 3s infinite;\n  }\n\n  @keyframes shimmer {\n    0% {\n      transform: translateX(-100%);\n    }\n    100% {\n      transform: translateX(100%);\n    }\n  }\n\n  .group-header:first-child {\n    margin-top: 0;\n  }\n\n  /* ===== LIST LAYOUT - MODERN ===== */\n  .list-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n\n  .entity-row {\n    display: flex;\n    align-items: center;\n    padding: 16px;\n    background: var(--card-background-color);\n    border: 1px solid var(--divider-color);\n    border-radius: var(--border-radius-md);\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    transition: all var(--transition-base);\n  }\n\n  .entity-row::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      135deg,\n      var(--primary-color, #44739e)05,\n      transparent\n    );\n    opacity: 0;\n    transition: opacity var(--transition-fast);\n  }\n\n  .entity-row:hover {\n    border-color: var(--primary-color, #44739e);\n    box-shadow: var(--shadow-md), var(--shadow-glow);\n    transform: translateX(4px);\n  }\n\n  .entity-row:hover::before {\n    opacity: 1;\n  }\n\n  .entity-row.warning {\n    background: linear-gradient(\n      135deg,\n      var(--error-color, #f44336)08,\n      transparent\n    );\n    border-color: var(--error-color, #f44336);\n    animation: pulse-warning 2s infinite;\n  }\n\n  @keyframes pulse-warning {\n    0%, 100% {\n      box-shadow: 0 0 0 0 var(--error-color, #f44336)40;\n    }\n    50% {\n      box-shadow: 0 0 0 8px var(--error-color, #f44336)00;\n    }\n  }\n\n  .entity-icon {\n    width: 48px;\n    height: 48px;\n    margin-right: 16px;\n    --mdc-icon-size: 28px;\n    background: var(--secondary-background-color);\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all var(--transition-base);\n    position: relative;\n  }\n\n  .entity-icon::after {\n    content: '';\n    position: absolute;\n    inset: -4px;\n    border-radius: 50%;\n    background: currentColor;\n    opacity: 0;\n    filter: blur(8px);\n    transition: opacity var(--transition-base);\n  }\n\n  .entity-row:hover .entity-icon::after {\n    opacity: 0.2;\n  }\n\n  .entity-row:hover .entity-icon {\n    transform: scale(1.1) rotate(5deg);\n  }\n\n  .entity-info {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .entity-name {\n    font-size: 15px;\n    font-weight: 600;\n    color: var(--primary-text-color);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-bottom: 2px;\n  }\n\n  .entity-secondary {\n    font-size: 12px;\n    color: var(--secondary-text-color);\n    opacity: 0.8;\n  }\n\n  .entity-state {\n    display: flex;\n    align-items: baseline;\n    gap: 6px;\n    font-size: 20px;\n    font-weight: 700;\n    color: var(--primary-text-color);\n    white-space: nowrap;\n    padding: 8px 16px;\n    background: var(--secondary-background-color);\n    border-radius: var(--border-radius-sm);\n  }\n\n  .state-unit {\n    font-size: 13px;\n    color: var(--secondary-text-color);\n    font-weight: 500;\n    opacity: 0.7;\n  }\n\n  /* ===== GRID LAYOUT - GLASS MORPHISM ===== */\n  .grid-container {\n    display: grid;\n    grid-template-columns: repeat(var(--columns, 2), 1fr);\n    gap: 16px;\n  }\n\n  .grid-item {\n    display: flex;\n    flex-direction: column;\n    padding: 20px;\n    background: linear-gradient(\n      135deg,\n      var(--card-background-color),\n      var(--secondary-background-color)\n    );\n    backdrop-filter: blur(var(--glass-blur));\n    -webkit-backdrop-filter: blur(var(--glass-blur));\n    border: 1px solid var(--divider-color);\n    border-radius: var(--border-radius-lg);\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    transition: all var(--transition-base);\n  }\n\n  .grid-item::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: radial-gradient(\n      circle at top right,\n      var(--primary-color, #44739e)15,\n      transparent 70%\n    );\n    opacity: 0;\n    transition: opacity var(--transition-base);\n  }\n\n  .grid-item:hover {\n    transform: translateY(-8px) scale(1.02);\n    box-shadow: var(--shadow-lg), var(--shadow-glow);\n    border-color: var(--primary-color, #44739e);\n  }\n\n  .grid-item:hover::before {\n    opacity: 1;\n  }\n\n  .grid-item.warning {\n    border-color: var(--error-color, #f44336);\n    animation: shake 0.5s;\n  }\n\n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    25% { transform: translateX(-4px); }\n    75% { transform: translateX(4px); }\n  }\n\n  .grid-icon {\n    width: 56px;\n    height: 56px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 16px;\n    --mdc-icon-size: 32px;\n    position: relative;\n    transition: all var(--transition-slow);\n  }\n\n  .grid-icon::before {\n    content: '';\n    position: absolute;\n    inset: -8px;\n    border-radius: 50%;\n    background: currentColor;\n    opacity: 0.1;\n    filter: blur(12px);\n  }\n\n  .grid-item:hover .grid-icon {\n    transform: scale(1.15) rotate(360deg);\n  }\n\n  .grid-content {\n    flex: 1;\n    position: relative;\n    z-index: 1;\n  }\n\n  .grid-name {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--primary-text-color);\n    margin-bottom: 8px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .grid-state {\n    font-size: 24px;\n    font-weight: 800;\n    color: var(--primary-text-color);\n    letter-spacing: -0.5px;\n  }\n\n  .grid-state .state-unit {\n    font-size: 15px;\n  }\n\n  /* ===== GAUGE LAYOUT - GRADIENT PROGRESS ===== */\n  .gauge-container {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .gauge-item {\n    padding: 16px;\n    background: var(--card-background-color);\n    border: 1px solid var(--divider-color);\n    border-radius: var(--border-radius-md);\n    cursor: pointer;\n    transition: all var(--transition-base);\n    position: relative;\n    overflow: hidden;\n  }\n\n  .gauge-item::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      135deg,\n      transparent,\n      var(--primary-color, #44739e)05\n    );\n    opacity: 0;\n    transition: opacity var(--transition-base);\n  }\n\n  .gauge-item:hover {\n    border-color: var(--primary-color, #44739e);\n    box-shadow: var(--shadow-md);\n  }\n\n  .gauge-item:hover::before {\n    opacity: 1;\n  }\n\n  .gauge-item.warning {\n    border-color: var(--error-color, #f44336);\n  }\n\n  .gauge-header {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n    margin-bottom: 12px;\n    position: relative;\n    z-index: 1;\n  }\n\n  .gauge-icon {\n    --mdc-icon-size: 22px;\n    color: var(--primary-color, #44739e);\n    transition: transform var(--transition-base);\n  }\n\n  .gauge-item:hover .gauge-icon {\n    transform: scale(1.2);\n  }\n\n  .gauge-name {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--primary-text-color);\n  }\n\n  .gauge-bar-container {\n    height: 10px;\n    background: var(--divider-color);\n    border-radius: 5px;\n    overflow: hidden;\n    margin-bottom: 8px;\n    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);\n    position: relative;\n  }\n\n  .gauge-bar {\n    height: 100%;\n    border-radius: 5px;\n    position: relative;\n    transition: width var(--transition-slow);\n    background: linear-gradient(\n      90deg,\n      var(--primary-color, #44739e),\n      var(--accent-color, #ff9800)\n    );\n  }\n\n  .gauge-bar::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(\n      90deg,\n      transparent,\n      rgba(255, 255, 255, 0.3),\n      transparent\n    );\n    animation: slide 2s infinite;\n  }\n\n  @keyframes slide {\n    0% {\n      transform: translateX(-100%);\n    }\n    100% {\n      transform: translateX(100%);\n    }\n  }\n\n  .gauge-value {\n    text-align: right;\n    font-size: 13px;\n    font-weight: 600;\n    color: var(--secondary-text-color);\n    position: relative;\n    z-index: 1;\n  }\n\n  /* ===== COMPACT LAYOUT - MINIMAL ===== */\n  .compact-container {\n    display: grid;\n    grid-template-columns: repeat(var(--columns, 3), 1fr);\n    gap: 10px;\n  }\n\n  .compact-item {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    padding: 12px;\n    background: var(--card-background-color);\n    border: 1px solid var(--divider-color);\n    border-radius: var(--border-radius-sm);\n    cursor: pointer;\n    transition: all var(--transition-base);\n    font-size: 14px;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .compact-item::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: linear-gradient(135deg, var(--primary-color, #44739e)10, transparent);\n    opacity: 0;\n    transition: opacity var(--transition-fast);\n  }\n\n  .compact-item:hover {\n    border-color: var(--primary-color, #44739e);\n    box-shadow: var(--shadow-sm);\n    transform: scale(1.05);\n  }\n\n  .compact-item:hover::before {\n    opacity: 1;\n  }\n\n  .compact-item.warning {\n    background: linear-gradient(135deg, var(--error-color, #f44336)10, transparent);\n    border-color: var(--error-color, #f44336);\n  }\n\n  .compact-item ha-icon {\n    --mdc-icon-size: 20px;\n    transition: transform var(--transition-base);\n    position: relative;\n    z-index: 1;\n  }\n\n  .compact-item:hover ha-icon {\n    transform: rotate(10deg) scale(1.2);\n  }\n\n  .compact-value {\n    font-weight: 700;\n    color: var(--primary-text-color);\n    position: relative;\n    z-index: 1;\n  }\n\n  .compact-unit {\n    font-size: 11px;\n    color: var(--secondary-text-color);\n    position: relative;\n    z-index: 1;\n  }\n\n  /* ===== DETAILED LAYOUT - PREMIUM ===== */\n  .detailed-container {\n    display: flex;\n    flex-direction: column;\n    gap: 20px;\n  }\n\n  .detailed-item {\n    background: linear-gradient(\n      135deg,\n      var(--card-background-color),\n      var(--secondary-background-color)\n    );\n    border: 1px solid var(--divider-color);\n    border-radius: var(--border-radius-xl);\n    overflow: hidden;\n    cursor: pointer;\n    transition: all var(--transition-base);\n    position: relative;\n  }\n\n  .detailed-item::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n    background: radial-gradient(\n      circle at top right,\n      var(--primary-color, #44739e)10,\n      transparent 60%\n    );\n    opacity: 0;\n    transition: opacity var(--transition-base);\n  }\n\n  .detailed-item:hover {\n    box-shadow: var(--shadow-lg), var(--shadow-glow);\n    transform: translateY(-4px);\n    border-color: var(--primary-color, #44739e);\n  }\n\n  .detailed-item:hover::before {\n    opacity: 1;\n  }\n\n  .detailed-item.warning {\n    border-color: var(--error-color, #f44336);\n    box-shadow: 0 0 20px var(--error-color, #f44336)20;\n  }\n\n  .detailed-header {\n    display: flex;\n    align-items: center;\n    gap: 20px;\n    padding: 24px;\n    position: relative;\n    z-index: 1;\n  }\n\n  .detailed-icon {\n    width: 64px;\n    height: 64px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: white;\n    --mdc-icon-size: 36px;\n    position: relative;\n    transition: all var(--transition-slow);\n    box-shadow: var(--shadow-md);\n  }\n\n  .detailed-icon::before {\n    content: '';\n    position: absolute;\n    inset: -12px;\n    border-radius: 50%;\n    background: inherit;\n    opacity: 0.2;\n    filter: blur(16px);\n    animation: pulse 3s infinite;\n  }\n\n  @keyframes pulse {\n    0%, 100% {\n      transform: scale(1);\n      opacity: 0.2;\n    }\n    50% {\n      transform: scale(1.2);\n      opacity: 0.4;\n    }\n  }\n\n  .detailed-item:hover .detailed-icon {\n    transform: scale(1.1) rotate(360deg);\n  }\n\n  .detailed-info {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .detailed-name {\n    font-size: 18px;\n    font-weight: 700;\n    color: var(--primary-text-color);\n    margin-bottom: 6px;\n    letter-spacing: -0.3px;\n  }\n\n  .detailed-meta {\n    display: flex;\n    gap: 10px;\n    font-size: 12px;\n    color: var(--secondary-text-color);\n    flex-wrap: wrap;\n  }\n\n  .meta-area {\n    padding: 4px 10px;\n    background: var(--secondary-background-color);\n    border-radius: 12px;\n    font-weight: 500;\n    transition: all var(--transition-base);\n  }\n\n  .meta-area:hover {\n    background: var(--primary-color, #44739e);\n    color: white;\n  }\n\n  .meta-label {\n    padding: 4px 10px;\n    background: linear-gradient(135deg, var(--primary-color, #44739e), var(--accent-color, #ff9800));\n    color: white;\n    border-radius: 12px;\n    font-weight: 600;\n    box-shadow: 0 2px 8px var(--primary-color, #44739e)40;\n  }\n\n  .detailed-state {\n    text-align: right;\n  }\n\n  .detailed-state .state-value {\n    font-size: 36px;\n    font-weight: 900;\n    color: var(--primary-text-color);\n    line-height: 1;\n    letter-spacing: -1px;\n    background: linear-gradient(135deg, var(--primary-text-color), var(--primary-color, #44739e));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n  }\n\n  .detailed-state .state-unit {\n    font-size: 16px;\n    color: var(--secondary-text-color);\n    font-weight: 600;\n    margin-top: 4px;\n  }\n\n  .detailed-graph {\n    padding: 0 24px 20px;\n    position: relative;\n    z-index: 1;\n  }\n\n  .detailed-graph svg {\n    width: 100%;\n    height: auto;\n    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1));\n    transition: filter var(--transition-base);\n  }\n\n  .detailed-item:hover .detailed-graph svg {\n    filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.15));\n  }\n\n  .detailed-footer {\n    padding: 16px 24px;\n    background: linear-gradient(\n      to right,\n      var(--secondary-background-color),\n      transparent\n    );\n    font-size: 12px;\n    color: var(--secondary-text-color);\n    border-top: 1px solid var(--divider-color);\n    position: relative;\n    z-index: 1;\n  }\n\n  /* ===== EMPTY STATE ===== */\n  .empty-state {\n    text-align: center;\n    padding: 60px 20px;\n    color: var(--secondary-text-color);\n  }\n\n  .empty-state ha-icon {\n    --mdc-icon-size: 64px;\n    margin-bottom: 20px;\n    opacity: 0.3;\n    animation: float 3s ease-in-out infinite;\n  }\n\n  @keyframes float {\n    0%, 100% {\n      transform: translateY(0);\n    }\n    50% {\n      transform: translateY(-10px);\n    }\n  }\n\n  .empty-state p {\n    margin: 0;\n    font-size: 15px;\n    font-weight: 500;\n  }\n\n  /* ===== RESPONSIVE ===== */\n  @media (max-width: 600px) {\n    ha-card {\n      padding: 16px;\n    }\n\n    .grid-container {\n      grid-template-columns: 1fr;\n    }\n\n    .compact-container {\n      grid-template-columns: repeat(2, 1fr);\n    }\n\n    .detailed-header {\n      padding: 16px;\n      gap: 16px;\n    }\n\n    .detailed-icon {\n      width: 52px;\n      height: 52px;\n      --mdc-icon-size: 28px;\n    }\n\n    .detailed-name {\n      font-size: 16px;\n    }\n\n    .detailed-state .state-value {\n      font-size: 28px;\n    }\n\n    .card-header {\n      font-size: 24px;\n    }\n  }\n\n  /* ===== ACCESSIBILITY ===== */\n  @media (prefers-reduced-motion: reduce) {\n    *,\n    *::before,\n    *::after {\n      animation-duration: 0.01ms !important;\n      animation-iteration-count: 1 !important;\n      transition-duration: 0.01ms !important;\n    }\n  }\n\n  @media (prefers-color-scheme: dark) {\n    ha-card {\n      box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.05);\n    }\n\n    .grid-item,\n    .detailed-item {\n      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);\n    }\n  }\n\n  /* ===== LOADING STATES ===== */\n  @keyframes skeleton {\n    0% {\n      background-position: 200% 0;\n    }\n    100% {\n      background-position: -200% 0;\n    }\n  }\n\n  .loading {\n    background: linear-gradient(\n      90deg,\n      var(--secondary-background-color) 25%,\n      var(--divider-color) 50%,\n      var(--secondary-background-color) 75%\n    );\n    background-size: 200% 100%;\n    animation: skeleton 1.5s infinite;\n  }\n"]))),ze=function(){function n(){var e;return fn(this,n),(e=rn(this,n,arguments))._selectedTab=0,e}return an(n,Ee),gn(n,[{key:"setConfig",value:function(n){this._config=n}},{key:"_valueChanged",value:function(n){if(this._config&&this.hass){var e=n.target,t=e.configValue,i=e.value||n.detail.value;if(t){var r=Object.assign({},this._config);this._setConfigValue(r,t,i),this._config=r;var o=new CustomEvent("config-changed",{detail:{config:this._config},bubbles:!0,composed:!0});this.dispatchEvent(o)}}}},{key:"_setConfigValue",value:function(n,e,t){for(var i=e.split("."),r=n,o=0;o<i.length-1;o++)r[i[o]]||(r[i[o]]={}),r=r[i[o]];var a=i[i.length-1];""===t||null==t?delete r[a]:r[a]=t}},{key:"_addEntity",value:function(){var n=this._config.entities||[],e=[].concat(J(n),[""]);this._config=Object.assign(Object.assign({},this._config),{entities:e}),this._fireConfigChanged()}},{key:"_removeEntity",value:function(n){var e=(this._config.entities||[]).filter((function(e,t){return t!==n}));this._config=Object.assign(Object.assign({},this._config),{entities:e}),this._fireConfigChanged()}},{key:"_updateEntity",value:function(n,e){var t=J(this._config.entities||[]);t[n]=e,this._config=Object.assign(Object.assign({},this._config),{entities:t}),this._fireConfigChanged()}},{key:"_addDeviceClass",value:function(){var n=this._config.filter||{},e=n.device_class||[],t=[].concat(J(e),[""]);this._config=Object.assign(Object.assign({},this._config),{filter:Object.assign(Object.assign({},n),{device_class:t})}),this._fireConfigChanged()}},{key:"_removeDeviceClass",value:function(n){var e=this._config.filter||{},t=(e.device_class||[]).filter((function(e,t){return t!==n}));this._config=Object.assign(Object.assign({},this._config),{filter:Object.assign(Object.assign({},e),{device_class:t})}),this._fireConfigChanged()}},{key:"_updateDeviceClass",value:function(n,e){var t=this._config.filter||{},i=J(t.device_class||[]);i[n]=e,this._config=Object.assign(Object.assign({},this._config),{filter:Object.assign(Object.assign({},t),{device_class:i})}),this._fireConfigChanged()}},{key:"_fireConfigChanged",value:function(){var n=new CustomEvent("config-changed",{detail:{config:this._config},bubbles:!0,composed:!0});this.dispatchEvent(n)}},{key:"_renderGeneralTab",value:function(){return se(s||(s=Z(['\n      <div class="editor-section">\n        <div class="editor-row">\n          <ha-textfield\n            label="Název karty"\n            .configValue=',"\n            .value=","\n            @change=",'\n          ></ha-textfield>\n        </div>\n\n        <div class="editor-row">\n          <ha-select\n            label="Rozložení"\n            .configValue=',"\n            .value=","\n            @selected=","\n            @closed=",'\n          >\n            <mwc-list-item value="list">Seznam</mwc-list-item>\n            <mwc-list-item value="grid">Mřížka</mwc-list-item>\n            <mwc-list-item value="gauge">Ukazatel</mwc-list-item>\n            <mwc-list-item value="compact">Kompaktní</mwc-list-item>\n            <mwc-list-item value="detailed">Podrobné</mwc-list-item>\n          </ha-select>\n        </div>\n\n        ','\n\n        <div class="editor-row">\n          <ha-select\n            label="Seskupit podle"\n            .configValue=',"\n            .value=","\n            @selected=","\n            @closed=",'\n          >\n            <mwc-list-item value="none">Neseskupovat</mwc-list-item>\n            <mwc-list-item value="type">Typ</mwc-list-item>\n            <mwc-list-item value="area">Oblast</mwc-list-item>\n            <mwc-list-item value="floor">Patro</mwc-list-item>\n          </ha-select>\n        </div>\n\n        <div class="editor-row">\n          <ha-select\n            label="Řadit podle"\n            .configValue=',"\n            .value=","\n            @selected=","\n            @closed=",'\n          >\n            <mwc-list-item value="name">Název</mwc-list-item>\n            <mwc-list-item value="state">Stav</mwc-list-item>\n            <mwc-list-item value="last_changed">Poslední změna</mwc-list-item>\n            <mwc-list-item value="area">Oblast</mwc-list-item>\n          </ha-select>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Obrátit pořadí (sestupně)">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n      </div>\n\n      <div class="editor-section">\n        <div class="section-header">Grafy</div>\n        <p class="section-description">\n          Konfigurace grafů pro detailed layout\n        </p>\n\n        <div class="editor-row">\n          <ha-select\n            label="Typ grafu"\n            .configValue=',"\n            .value=","\n            @selected=","\n            @closed=",'\n          >\n            <mwc-list-item value="line">Čára</mwc-list-item>\n            <mwc-list-item value="area">Oblast</mwc-list-item>\n            <mwc-list-item value="bar">Sloupcový</mwc-list-item>\n          </ha-select>\n        </div>\n\n        <div class="editor-row">\n          <ha-textfield\n            label="Počet hodin historie"\n            type="number"\n            min="1"\n            max="168"\n            .configValue=',"\n            .value=","\n            @change=",'\n          ></ha-textfield>\n        </div>\n\n        <div class="editor-row">\n          <ha-textfield\n            label="Výška grafu (px)"\n            type="number"\n            min="50"\n            max="300"\n            .configValue=',"\n            .value=","\n            @change=",'\n          ></ha-textfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Vyplnit oblast pod grafem">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n      </div>\n\n      <div class="editor-section">\n        <div class="section-header">Zobrazení</div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit hlavičku">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit ikony">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit názvy">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit stavy">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit jednotky">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit poslední změnu">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=",'\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n\n        <div class="editor-row checkbox-row">\n          <ha-formfield label="Zobrazit grafy (kde podporováno)">\n            <ha-checkbox\n              .checked=',"\n              .configValue=","\n              @change=","\n            ></ha-checkbox>\n          </ha-formfield>\n        </div>\n      </div>\n    "])),"title",this._config.title||"",this._valueChanged,"layout",this._config.layout||"list",this._valueChanged,(function(n){return n.stopPropagation()}),"grid"===this._config.layout||"compact"===this._config.layout?se(c||(c=Z(['\n              <div class="editor-row">\n                <ha-textfield\n                  label="Počet sloupců"\n                  type="number"\n                  min="1"\n                  max="6"\n                  .configValue=',"\n                  .value=","\n                  @change=","\n                ></ha-textfield>\n              </div>\n            "])),"columns",this._config.columns||2,this._valueChanged):"","group_by",this._config.group_by||"none",this._valueChanged,(function(n){return n.stopPropagation()}),"sort_by",this._config.sort_by||"name",this._valueChanged,(function(n){return n.stopPropagation()}),!0===this._config.sort_reverse,"sort_reverse",this._valueChanged,"graph_type",this._config.graph_type||"line",this._valueChanged,(function(n){return n.stopPropagation()}),"graph_hours",this._config.graph_hours||24,this._valueChanged,"graph_height",this._config.graph_height||100,this._valueChanged,!1!==this._config.graph_fill,"graph_fill",this._valueChanged,!1!==this._config.show_header,"show_header",this._valueChanged,!1!==this._config.show_icon,"show_icon",this._valueChanged,!1!==this._config.show_name,"show_name",this._valueChanged,!1!==this._config.show_state,"show_state",this._valueChanged,!1!==this._config.show_unit,"show_unit",this._valueChanged,!0===this._config.show_last_changed,"show_last_changed",this._valueChanged,!0===this._config.show_graph,"show_graph",this._valueChanged)}},{key:"_renderEntitiesTab",value:function(){var n=this,e=this._config.entities||[];return se(l||(l=Z(['\n      <div class="editor-section">\n        <div class="section-header">Manuální entity</div>\n        <p class="section-description">\n          Zadejte konkrétní entity, které chcete zobrazit\n        </p>\n\n        ',"\n\n        <mwc-button @click=",'>\n          <ha-icon icon="mdi:plus"></ha-icon>\n          Přidat entitu\n        </mwc-button>\n      </div>\n    '])),e.map((function(e,t){return se(d||(d=Z(['\n            <div class="editor-row entity-row">\n              <ha-entity-picker\n                .hass=',"\n                .value=","\n                @value-changed=","\n                allow-custom-entity\n              ></ha-entity-picker>\n              <ha-icon-button\n                .path=","\n                @click=","\n              ></ha-icon-button>\n            </div>\n          "])),n.hass,e,(function(e){return n._updateEntity(t,e.detail.value)}),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",(function(){return n._removeEntity(t)}))})),this._addEntity)}},{key:"_renderFiltersTab",value:function(){var n,e,t=this,i=(null===(n=this._config.filter)||void 0===n?void 0:n.device_class)||[];return null===(e=this._config.filter)||void 0===e||e.domain,se(u||(u=Z(['\n      <div class="editor-section">\n        <div class="section-header">Filtry</div>\n        <p class="section-description">\n          Automaticky vyberte entity podle kritérií\n        </p>\n\n        <div class="subsection-header">Device Class (typ senzoru)</div>\n        ',"\n\n        <mwc-button @click=",'>\n          <ha-icon icon="mdi:plus"></ha-icon>\n          Přidat Device Class\n        </mwc-button>\n      </div>\n\n      <div class="editor-section">\n        <div class="info-box">\n          <ha-icon icon="mdi:information-outline"></ha-icon>\n          <div>\n            <strong>Tip:</strong> Device Class určuje typ senzoru (teplota, vlhkost atd.).\n            Pokud nevíte, jaký typ použít, podívejte se na atributy entity v Developer Tools.\n          </div>\n        </div>\n      </div>\n    '])),i.map((function(n,e){return se(h||(h=Z(['\n            <div class="editor-row entity-row">\n              <ha-select\n                label="Device Class"\n                .value=',"\n                @selected=","\n                @closed=","\n              >\n                ","\n              </ha-select>\n              <ha-icon-button\n                .path=","\n                @click=","\n              ></ha-icon-button>\n            </div>\n          "])),n,(function(n){return t._updateDeviceClass(e,n.target.value)}),(function(n){return n.stopPropagation()}),Object.keys(Pe).map((function(n){return se(p||(p=Z(['\n                    <mwc-list-item value="','">\n                      ',"\n                    </mwc-list-item>\n                  "])),n,t._getDeviceClassLabel(n))})),"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",(function(){return t._removeDeviceClass(e)}))})),this._addDeviceClass)}},{key:"_renderTypesTab",value:function(){var n=this;return se(f||(f=Z(['\n      <div class="editor-section">\n        <div class="section-header">Podporované typy entit</div>\n        <p class="section-description">\n          Karta automaticky rozpozná a správně zobrazí následující typy:\n        </p>\n\n        <div class="types-grid">\n          ','\n        </div>\n      </div>\n\n      <div class="editor-section">\n        <div class="info-box success">\n          <ha-icon icon="mdi:check-circle"></ha-icon>\n          <div>\n            Všechny typy mají přednastavené <strong>barevné rozsahy</strong>,\n            <strong>ikony</strong> a <strong>varovné hodnoty</strong> pro optimální zobrazení.\n          </div>\n        </div>\n      </div>\n    '])),Object.entries(Pe).map((function(e){var t=Q(e,2),i=t[0],r=t[1];return se(v||(v=Z(['\n              <div class="type-card">\n                <div class="type-header">\n                  <ha-icon .icon=','></ha-icon>\n                  <span class="type-name">','</span>\n                </div>\n                <div class="type-info">\n                  <span class="type-unit">',"</span>\n                  ","\n                </div>\n                ","\n              </div>\n            "])),r.icon,n._getDeviceClassLabel(i),r.unit||"N/A",r.ranges?se(g||(g=Z(['\n                        <span class="type-ranges">'," rozsahů</span>\n                      "])),r.ranges.length):"",r.ranges?se(m||(m=Z(['\n                      <div class="type-ranges-list">\n                        ',"\n                      </div>\n                    "])),r.ranges.map((function(n){return se(y||(y=Z(['\n                            <div class="range-item">\n                              <div class="range-color" style="background-color: ','"></div>\n                              <span>',"</span>\n                            </div>\n                          "])),n.color,n.label||"N/A")}))):"")})))}},{key:"_renderExamplesTab",value:function(){return se(b||(b=Z(['\n      <div class="editor-section">\n        <div class="section-header">Příklady použití</div>\n\n        <div class="example-card">\n          <div class="example-header">\n            <ha-icon icon="mdi:thermometer"></ha-icon>\n            <span>Všechny teplotní senzory</span>\n          </div>\n          <pre><code>type: custom:entity-display-card\ntitle: "Teploty v domě"\nlayout: grid\ncolumns: 2\nfilter:\n  device_class:\n    - temperature</code></pre>\n        </div>\n\n        <div class="example-card">\n          <div class="example-header">\n            <ha-icon icon="mdi:water-percent"></ha-icon>\n            <span>Teplota a vlhkost</span>\n          </div>\n          <pre><code>type: custom:entity-display-card\ntitle: "Klima v domě"\nlayout: detailed\ngroup_by: area\nshow_graph: true\nfilter:\n  device_class:\n    - temperature\n    - humidity</code></pre>\n        </div>\n\n        <div class="example-card">\n          <div class="example-header">\n            <ha-icon icon="mdi:battery"></ha-icon>\n            <span>Slabé baterie</span>\n          </div>\n          <pre><code>type: custom:entity-display-card\ntitle: "Baterie k výměně"\nlayout: list\nfilter:\n  device_class:\n    - battery\nsort_by: state</code></pre>\n        </div>\n\n        <div class="example-card">\n          <div class="example-header">\n            <ha-icon icon="mdi:gauge"></ha-icon>\n            <span>Všechny senzory (gauge)</span>\n          </div>\n          <pre><code>type: custom:entity-display-card\ntitle: "Přehled senzorů"\nlayout: gauge\ngroup_by: type\nfilter:\n  device_class:\n    - temperature\n    - humidity\n    - pressure\n    - illuminance\n    - battery</code></pre>\n        </div>\n\n        <div class="example-card">\n          <div class="example-header">\n            <ha-icon icon="mdi:grid"></ha-icon>\n            <span>Kompaktní přehled</span>\n          </div>\n          <pre><code>type: custom:entity-display-card\ntitle: "Quick View"\nlayout: compact\ncolumns: 3\nshow_name: false\nfilter:\n  device_class:\n    - temperature\n    - humidity\n    - battery</code></pre>\n        </div>\n      </div>\n    '])))}},{key:"_getDeviceClassLabel",value:function(n){return{temperature:"Teplota",humidity:"Vlhkost",battery:"Baterie",pressure:"Tlak",illuminance:"Osvětlení",power:"Výkon",energy:"Energie",carbon_dioxide:"CO₂",volatile_organic_compounds:"VOC",pm25:"PM2.5",signal_strength:"Síla signálu"}[n]||n}},{key:"render",value:function(){var n=this;return this._config?se(x||(x=Z(['\n      <div class="editor-container">\n        <div class="tabs">\n          <mwc-tab\n            .active=',"\n            @click=","\n          >\n            Obecné\n          </mwc-tab>\n          <mwc-tab\n            .active=","\n            @click=","\n          >\n            Entity\n          </mwc-tab>\n          <mwc-tab\n            .active=","\n            @click=","\n          >\n            Filtry\n          </mwc-tab>\n          <mwc-tab\n            .active=","\n            @click=","\n          >\n            Typy\n          </mwc-tab>\n          <mwc-tab\n            .active=","\n            @click=",'\n          >\n            Příklady\n          </mwc-tab>\n        </div>\n\n        <div class="tab-content">\n          ',"\n        </div>\n      </div>\n    "])),0===this._selectedTab,(function(){return n._selectedTab=0}),1===this._selectedTab,(function(){return n._selectedTab=1}),2===this._selectedTab,(function(){return n._selectedTab=2}),3===this._selectedTab,(function(){return n._selectedTab=3}),4===this._selectedTab,(function(){return n._selectedTab=4}),0===this._selectedTab?this._renderGeneralTab():1===this._selectedTab?this._renderEntitiesTab():2===this._selectedTab?this._renderFiltersTab():3===this._selectedTab?this._renderTypesTab():this._renderExamplesTab()):se(_||(_=Z([""])))}}])}();ze.styles=$n(w||(w=Z(["\n    :host {\n      display: block;\n    }\n\n    .editor-container {\n      padding: 16px;\n    }\n\n    .tabs {\n      display: flex;\n      gap: 8px;\n      border-bottom: 2px solid var(--divider-color);\n      margin-bottom: 16px;\n    }\n\n    mwc-tab {\n      cursor: pointer;\n      padding: 12px 16px;\n      font-size: 14px;\n      font-weight: 500;\n      color: var(--secondary-text-color);\n      border-bottom: 2px solid transparent;\n      margin-bottom: -2px;\n      transition: all 0.2s;\n    }\n\n    mwc-tab[active] {\n      color: var(--primary-color);\n      border-bottom-color: var(--primary-color);\n    }\n\n    .tab-content {\n      padding-top: 8px;\n    }\n\n    .editor-section {\n      margin-bottom: 24px;\n    }\n\n    .section-header {\n      font-size: 16px;\n      font-weight: 600;\n      color: var(--primary-text-color);\n      margin-bottom: 8px;\n    }\n\n    .subsection-header {\n      font-size: 14px;\n      font-weight: 600;\n      color: var(--secondary-text-color);\n      margin: 16px 0 8px 0;\n    }\n\n    .section-description {\n      font-size: 13px;\n      color: var(--secondary-text-color);\n      margin: 0 0 16px 0;\n    }\n\n    .editor-row {\n      margin-bottom: 16px;\n    }\n\n    .editor-row ha-textfield,\n    .editor-row ha-select {\n      width: 100%;\n    }\n\n    .checkbox-row {\n      display: flex;\n      align-items: center;\n    }\n\n    .entity-row {\n      display: flex;\n      gap: 8px;\n      align-items: center;\n    }\n\n    .entity-row ha-entity-picker,\n    .entity-row ha-select {\n      flex: 1;\n    }\n\n    .info-box {\n      display: flex;\n      gap: 12px;\n      padding: 12px;\n      background: var(--secondary-background-color);\n      border-left: 4px solid var(--primary-color);\n      border-radius: 4px;\n      font-size: 13px;\n      color: var(--primary-text-color);\n    }\n\n    .info-box.success {\n      border-left-color: var(--success-color, #4caf50);\n    }\n\n    .info-box ha-icon {\n      --mdc-icon-size: 24px;\n      color: var(--primary-color);\n    }\n\n    .info-box.success ha-icon {\n      color: var(--success-color, #4caf50);\n    }\n\n    .types-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n      gap: 16px;\n      margin-top: 16px;\n    }\n\n    .type-card {\n      background: var(--card-background-color);\n      border: 1px solid var(--divider-color);\n      border-radius: 8px;\n      padding: 12px;\n    }\n\n    .type-header {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      margin-bottom: 8px;\n    }\n\n    .type-header ha-icon {\n      --mdc-icon-size: 24px;\n      color: var(--primary-color);\n    }\n\n    .type-name {\n      font-weight: 600;\n      font-size: 14px;\n      color: var(--primary-text-color);\n    }\n\n    .type-info {\n      display: flex;\n      gap: 12px;\n      font-size: 12px;\n      color: var(--secondary-text-color);\n      margin-bottom: 8px;\n    }\n\n    .type-unit {\n      font-weight: 500;\n    }\n\n    .type-ranges-list {\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    }\n\n    .range-item {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 11px;\n      color: var(--secondary-text-color);\n    }\n\n    .range-color {\n      width: 16px;\n      height: 16px;\n      border-radius: 50%;\n    }\n\n    .example-card {\n      background: var(--card-background-color);\n      border: 1px solid var(--divider-color);\n      border-radius: 8px;\n      padding: 16px;\n      margin-bottom: 16px;\n    }\n\n    .example-header {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      margin-bottom: 12px;\n      font-weight: 600;\n      color: var(--primary-text-color);\n    }\n\n    .example-header ha-icon {\n      --mdc-icon-size: 20px;\n      color: var(--primary-color);\n    }\n\n    pre {\n      margin: 0;\n      padding: 12px;\n      background: var(--secondary-background-color);\n      border-radius: 4px;\n      overflow-x: auto;\n    }\n\n    code {\n      font-family: 'Courier New', monospace;\n      font-size: 12px;\n      color: var(--primary-text-color);\n    }\n\n    mwc-button {\n      --mdc-theme-primary: var(--primary-color);\n    }\n  "]))),bn([Se()],ze.prototype,"hass",void 0),bn([Ce()],ze.prototype,"_config",void 0),bn([Ce()],ze.prototype,"_selectedTab",void 0),customElements.define("entity-display-editor",ze);var je=function(){function n(){var e;return fn(this,n),(e=rn(this,n,arguments))._entities=[],e._groupedEntities={},e}return an(n,Ee),gn(n,[{key:"setConfig",value:function(e){if(!e)throw new Error("Chybí konfigurace karty");this._config=Object.assign(Object.assign({},n.getStubConfig()),e)}},{key:"connectedCallback",value:function(){X(n,"connectedCallback",this,3)([])}},{key:"disconnectedCallback",value:function(){X(n,"disconnectedCallback",this,3)([])}},{key:"updated",value:function(e){X(n,"updated",this,3)([e]),(e.has("hass")||e.has("_config"))&&this._updateEntities()}},{key:"_updateEntities",value:function(){if(this.hass&&this._config){var n,e=[],t=un(this._getEntityIds());try{for(t.s();!(n=t.n()).done;){var i=n.value,r=this.hass.states[i];if(r){var o=this._processEntity(i,r);o&&e.push(o)}}}catch(n){t.e(n)}finally{t.f()}this._entities=e,this._config.group_by&&"none"!==this._config.group_by&&(this._groupedEntities=this._groupEntities(e))}}},{key:"_getEntityIds",value:function(){var n=new Set;if(this._config.entities&&this._config.entities.forEach((function(e){return n.add(e)})),this._config.filter&&this.hass){for(var e=0,t=Object.keys(this.hass.states);e<t.length;e++){var i=t[e],r=this.hass.states[i];if(this._config.filter.include){var o,a=un(this._config.filter.include);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._matchesFilter(i,r,s)&&n.add(i)}}catch(n){a.e(n)}finally{a.f()}}if(this._config.filter.domain){var c=i.split(".")[0];this._config.filter.domain.includes(c)&&n.add(i)}if(this._config.filter.device_class){var l=r.attributes.device_class;l&&this._config.filter.device_class.includes(l)&&n.add(i)}}if(this._config.filter.exclude)for(var d=0,u=Array.from(n);d<u.length;d++){var h,p=u[d],f=this.hass.states[p],v=un(this._config.filter.exclude);try{for(v.s();!(h=v.n()).done;){var g=h.value;this._matchesFilter(p,f,g)&&n.delete(p)}}catch(n){v.e(n)}finally{v.f()}}}return Array.from(n)}},{key:"_matchesFilter",value:function(n,e,t){if(t.domain&&n.split(".")[0]!==t.domain)return!1;if(t.device_class&&e.attributes.device_class!==t.device_class)return!1;if(t.entity_id&&!new RegExp(t.entity_id.replace(/\*/g,".*")).test(n))return!1;if(t.area,t.state&&e.state!==t.state)return!1;if(t.attributes)for(var i=0,r=Object.entries(t.attributes);i<r.length;i++){var o=Q(r[i],2),a=o[0],s=o[1];if(e.attributes[a]!==s)return!1}return!0}},{key:"_processEntity",value:function(n,e){var t=e.attributes.device_class||"unknown",i=n.split(".")[0],r=this._getTypeConfig(t,i),o=e.state,a=parseFloat(String(o));!isNaN(a)&&isFinite(a)&&(o=a,void 0!==r.precision&&(o=parseFloat(a.toFixed(r.precision))));var s=this._getValueRange(o,r),c=e.attributes.unit_of_measurement||r.unit||"";return{entity_id:n,name:e.attributes.friendly_name||n,state:o,unit:c,icon:(null==s?void 0:s.icon)||r.icon||this._getDefaultIcon(i),color:(null==s?void 0:s.color)||this._getDefaultColor(t),device_class:t,area:e.attributes.area,floor:e.attributes.floor,last_changed:new Date(e.last_changed),attributes:e.attributes,warning:(null==s?void 0:s.warning)||!1}}},{key:"_getTypeConfig",value:function(n,e){var t,i=null===(t=this._config.entity_types)||void 0===t?void 0:t.find((function(e){return e.device_class===n}));return i||(Pe[n]?Pe[n]:{device_class:n,icon:"mdi:eye",precision:1})}},{key:"_getValueRange",value:function(n,e){if(!e.ranges||"number"!=typeof n)return null;var t,i=un(e.ranges);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=void 0===r.min||n>=r.min,a=void 0===r.max||n<=r.max;if(o&&a)return r}}catch(n){i.e(n)}finally{i.f()}return null}},{key:"_getDefaultIcon",value:function(n){return{sensor:"mdi:eye",binary_sensor:"mdi:checkbox-marked-circle",light:"mdi:lightbulb",switch:"mdi:light-switch",climate:"mdi:thermostat",fan:"mdi:fan",cover:"mdi:window-shutter",lock:"mdi:lock",media_player:"mdi:speaker",camera:"mdi:camera"}[n]||"mdi:eye"}},{key:"_getDefaultColor",value:function(n){return"#44739e"}},{key:"_groupEntities",value:function(n){var e,t={},i=un(n);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=void 0;switch(this._config.group_by){case"type":o=r.device_class||"Ostatní";break;case"area":o=r.area||"Bez oblasti";break;case"floor":o=r.floor||"Bez patra";break;default:o="Všechny"}t[o]||(t[o]=[]),t[o].push(r)}}catch(n){i.e(n)}finally{i.f()}for(var a in t)t[a]=this._sortEntities(t[a]);return t}},{key:"_sortEntities",value:function(n){var e=this;if(!this._config.sort_by)return n;var t=n.sort((function(n,t){var i=0;switch(e._config.sort_by){case"name":i=n.name.localeCompare(t.name);break;case"state":i="number"==typeof n.state&&"number"==typeof t.state?n.state-t.state:String(n.state).localeCompare(String(t.state));break;case"last_changed":i=t.last_changed.getTime()-n.last_changed.getTime();break;case"area":i=(n.area||"").localeCompare(t.area||"");break;default:i=0}return e._config.sort_reverse?-i:i}));return t}},{key:"_renderEntity",value:function(n){switch(this._config.layout||"list"){case"grid":return this._renderGridEntity(n);case"gauge":return this._renderGaugeEntity(n);case"compact":return this._renderCompactEntity(n);case"detailed":return this._renderDetailedEntity(n);default:return this._renderListEntity(n)}}},{key:"_renderListEntity",value:function(n){var e=this;return se(k||(k=Z(['\n      <div class="entity-row ','" @click=',">\n        ",'\n        <div class="entity-info">\n          ',"\n          ","\n        </div>\n        ","\n      </div>\n    "])),n.warning?"warning":"",(function(){return e._handleEntityClick(n)}),!1!==this._config.show_icon?se(E||(E=Z(['<ha-icon class="entity-icon" .icon=',' style="color: ','"></ha-icon>'])),n.icon,n.color):"",!1!==this._config.show_name?se($||($=Z(['<div class="entity-name">',"</div>"])),n.name):"",this._config.show_last_changed?se(A||(A=Z(['<div class="entity-secondary">',"</div>"])),this._formatLastChanged(n.last_changed)):"",!1!==this._config.show_state?se(O||(O=Z(['\n              <div class="entity-state">\n                <span class="state-value">',"</span>\n                ","\n              </div>\n            "])),n.state,!1!==this._config.show_unit&&n.unit?se(S||(S=Z(['<span class="state-unit">',"</span>"])),n.unit):""):"")}},{key:"_renderGridEntity",value:function(n){var e=this;return se(C||(C=Z(['\n      <div class="grid-item ','" @click=','>\n        <div class="grid-icon" style="background-color: ',"20; color: ",'">\n          <ha-icon .icon=','></ha-icon>\n        </div>\n        <div class="grid-content">\n          <div class="grid-name">','</div>\n          <div class="grid-state">\n            <span class="state-value">',"</span>\n            ","\n          </div>\n        </div>\n      </div>\n    "])),n.warning?"warning":"",(function(){return e._handleEntityClick(n)}),n.color,n.color,n.icon,n.name,n.state,n.unit?se(P||(P=Z(['<span class="state-unit">',"</span>"])),n.unit):"")}},{key:"_renderGaugeEntity",value:function(n){var e=this,t=this._getTypeConfig(n.device_class||"",n.entity_id.split(".")[0]),i=this._calculatePercentage(n.state,t);return se(T||(T=Z(['\n      <div class="gauge-item ','" @click=','>\n        <div class="gauge-header">\n          <ha-icon class="gauge-icon" .icon=','></ha-icon>\n          <span class="gauge-name">','</span>\n        </div>\n        <div class="gauge-bar-container">\n          <div class="gauge-bar" style="width: ',"%; background-color: ",'"></div>\n        </div>\n        <div class="gauge-value">\n          ',"","\n        </div>\n      </div>\n    "])),n.warning?"warning":"",(function(){return e._handleEntityClick(n)}),n.icon,n.name,i,n.color,n.state,n.unit?" ".concat(n.unit):"")}},{key:"_renderCompactEntity",value:function(n){var e=this;return se(z||(z=Z(['\n      <div class="compact-item ','" @click=',">\n        <ha-icon .icon=",' style="color: ','"></ha-icon>\n        <span class="compact-value">',"</span>\n        ","\n      </div>\n    "])),n.warning?"warning":"",(function(){return e._handleEntityClick(n)}),n.icon,n.color,n.state,n.unit?se(j||(j=Z(['<span class="compact-unit">',"</span>"])),n.unit):"")}},{key:"_renderDetailedEntity",value:function(n){var e=this,t=this._getTypeConfig(n.device_class||"",n.entity_id.split(".")[0]),i=this._getValueRange(n.state,t),r=this._config.graph_height||100;return se(L||(L=Z(['\n      <div class="detailed-item ','" data-entity-id="','" @click=','>\n        <div class="detailed-header">\n          <div class="detailed-icon" style="background: ','">\n            <ha-icon .icon=','></ha-icon>\n          </div>\n          <div class="detailed-info">\n            <div class="detailed-name">','</div>\n            <div class="detailed-meta">\n              ',"\n              ",'\n            </div>\n          </div>\n          <div class="detailed-state">\n            <div class="state-value">',"</div>\n            ","\n          </div>\n        </div>\n        ",'\n        <div class="detailed-footer">\n          <span>Naposledy změněno: ',"</span>\n        </div>\n      </div>\n    "])),n.warning?"warning":"",n.entity_id,(function(){return e._handleEntityClick(n)}),n.color,n.icon,n.name,n.area?se(M||(M=Z(['<span class="meta-area">',"</span>"])),n.area):"",(null==i?void 0:i.label)?se(N||(N=Z(['<span class="meta-label">',"</span>"])),i.label):"",n.state,n.unit?se(V||(V=Z(['<div class="state-unit">',"</div>"])),n.unit):"",this._config.show_graph&&t.show_graph?se(D||(D=Z(['<div class="detailed-graph">\n              ',"\n            </div>"])),this._renderGraph(n,this.offsetWidth-32||300,r)):"",this._formatLastChanged(n.last_changed))}},{key:"_calculatePercentage",value:function(n,e){var t,i,r,o;if("number"!=typeof n||!e.ranges)return 50;var a=e.ranges,s=null!==(i=null===(t=a[0])||void 0===t?void 0:t.min)&&void 0!==i?i:0,c=(n-s)/((null!==(o=null===(r=a[a.length-1])||void 0===r?void 0:r.max)&&void 0!==o?o:100)-s)*100;return Math.max(0,Math.min(100,c))}},{key:"_formatLastChanged",value:function(n){var e=(new Date).getTime()-n.getTime(),t=Math.floor(e/6e4),i=Math.floor(t/60),r=Math.floor(i/24);return r>0?"před ".concat(r,"d"):i>0?"před ".concat(i,"h"):t>0?"před ".concat(t,"m"):"právě teď"}},{key:"_fetchHistory",value:(e=tn(nn().mark((function n(e){var t,i,r,o,a,s,c,l,d,u=arguments;return nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=u.length>1&&void 0!==u[1]?u[1]:24,this.hass){n.next=3;break}return n.abrupt("return",[]);case 3:return i=new Date,r=new Date(i.getTime()-60*t*60*1e3),n.prev=5,n.next=8,this.hass.callWS({type:"history/history_during_period",start_time:r.toISOString(),end_time:i.toISOString(),entity_ids:[e],minimal_response:!0,no_attributes:!0});case 8:if((o=n.sent)&&o[0]&&0!==o[0].length){n.next=11;break}return n.abrupt("return",[]);case 11:a=[],s=un(o[0]);try{for(s.s();!(c=s.n()).done;)l=c.value,d=parseFloat(l.s),!isNaN(d)&&isFinite(d)&&a.push([new Date(1e3*l.lu).getTime(),d])}catch(n){s.e(n)}finally{s.f()}return n.abrupt("return",a);case 17:return n.prev=17,n.t0=n.catch(5),console.error("Error fetching history:",n.t0),n.abrupt("return",[]);case 21:case"end":return n.stop()}}),n,this,[[5,17]])}))),function(n){return e.apply(this,arguments)})},{key:"_renderGraph",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,r=this._getTypeConfig(n.device_class||"",n.entity_id.split(".")[0]),o=this._config.graph_hours||r.graph_hours||24,a=this._config.graph_type||"line",s=this._config.graph_line_color||n.color,c=!1!==this._config.graph_fill;return this._fetchHistory(n.entity_id,o).then((function(r){if(0!==r.length){var o=r.map((function(n){return n[1]})),l=Math.min.apply(Math,J(o)),d=Math.max.apply(Math,J(o))-l||1,u=t-10,h=i-10,p=r.map((function(n,e){var t=5+e/(r.length-1)*u,i=5+h-(n[1]-l)/d*h;return"".concat(t,",").concat(i)})),f="line"===a||"area"===a?"M ".concat(p.join(" L ")):e._createBarPath(r,l,d,5,u,h),v="";if(c&&"area"===a){var g=p[0].split(","),m=p[p.length-1].split(",");v="".concat(f," L ").concat(m[0],",").concat(i-5," L ").concat(g[0],",").concat(i-5," Z")}requestAnimationFrame((function(){var t,i=null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector('[data-entity-id="'.concat(n.entity_id,'"] .detailed-graph svg'));i&&(i.innerHTML="\n            ".concat(c&&v?'<path d="'.concat(v,'" fill="').concat(s,'" opacity="0.2"/>'):"",'\n            <path d="').concat(f,'" stroke="').concat(s,'" stroke-width="2" fill="').concat(c&&!v?s:"none",'" opacity="').concat(c&&!v?"0.3":"1",'"/>\n          '))}))}})),se(R||(R=Z(['\n      <svg width="','" height="','" style="display: block;">\n        <text x="','" y="','" text-anchor="middle" fill="var(--secondary-text-color)" font-size="12">\n          Načítání...\n        </text>\n      </svg>\n    '])),t,i,t/2,i/2)}},{key:"_createBarPath",value:function(n,e,t,i,r,o){var a=r/n.length,s=n.map((function(n,r){var s=i+r*a,c=(n[1]-e)/t*o,l=i+o-c;return"M ".concat(s,",").concat(l," L ").concat(s,",").concat(i+o," L ").concat(s+.8*a,",").concat(i+o," L ").concat(s+.8*a,",").concat(l," Z")}));return s.join(" ")}},{key:"_handleEntityClick",value:function(n){var e=new CustomEvent("hass-more-info",{detail:{entityId:n.entity_id},bubbles:!0,composed:!0});this.dispatchEvent(e)}},{key:"_getGroupTitle",value:function(n){return{temperature:"Teplota",humidity:"Vlhkost",battery:"Baterie",pressure:"Tlak",illuminance:"Osvětlení",power:"Výkon",energy:"Energie",carbon_dioxide:"CO₂",volatile_organic_compounds:"VOC",pm25:"PM2.5",signal_strength:"Signál",unknown:"Ostatní"}[n]||n}},{key:"render",value:function(){var n=this;if(!this._config||!this.hass)return se(U||(U=Z([""])));var e=this._config.group_by&&"none"!==this._config.group_by?this._groupedEntities:{"Všechny":this._entities};if(0===Object.keys(e).length||Object.values(e).every((function(n){return 0===n.length})))return se(H||(H=Z(['\n        <ha-card>\n          <div class="empty-state">\n            <ha-icon icon="mdi:information-outline"></ha-icon>\n            <p>Žádné entity k zobrazení</p>\n          </div>\n        </ha-card>\n      '])));var t=this._config.layout||"list",i=this._config.columns||2;return se(I||(I=Z(["\n      <ha-card>\n        ",'\n        <div class="card-content ','-layout" style="--columns: ','">\n          ',"\n        </div>\n      </ha-card>\n    "])),!1!==this._config.show_header&&this._config.title?se(B||(B=Z(['<div class="card-header">',"</div>"])),this._config.title):"",t,i,Object.entries(e).map((function(e){var i=Q(e,2),r=i[0],o=i[1];return 0===o.length?"":se(G||(G=Z(["\n              ",'\n              <div class="entities-container ','-container">\n                ',"\n              </div>\n            "])),n._config.group_by&&"none"!==n._config.group_by?se(F||(F=Z(['<div class="group-header">',"</div>"])),n._getGroupTitle(r)):"",t,o.map((function(e){return n._renderEntity(e)})))})))}},{key:"getCardSize",value:function(){var n=this._entities.length;switch(this._config.layout||"list"){case"compact":return Math.ceil(n/(this._config.columns||3))+1;case"grid":return 2*Math.ceil(n/(this._config.columns||2))+1;case"detailed":return 3*n+1;default:return n+1}}}],[{key:"getConfigElement",value:function(){return document.createElement("entity-display-editor")}},{key:"getStubConfig",value:function(){return{type:"custom:entity-display-card",title:"Senzory",layout:"list",group_by:"type",show_header:!0,show_state:!0,show_icon:!0,show_name:!0,show_unit:!0,show_last_changed:!1,show_graph:!1,columns:2,theme:"default",entity_types:[]}}}]);var e}();je.styles=Te,bn([Se()],je.prototype,"hass",void 0),bn([Ce()],je.prototype,"_config",void 0),bn([Ce()],je.prototype,"_entities",void 0),bn([Ce()],je.prototype,"_groupedEntities",void 0),customElements.define("entity-display-card",je),window.customCards=window.customCards||[],window.customCards.push({type:"entity-display-card",name:"Entity Display Card",description:"Pokročilá karta pro zobrazení entit s filtry a vizualizacemi",preview:!0});
